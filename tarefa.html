<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Painel de Tarefas</title>
  <style>
    :root {
      --azul-escuro: #012060;
      --amarelo: #FEE600;
      --cinza-claro: #F2F2F2;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      background-color: var(--cinza-claro);
      padding: 20px;
    }

    header {
      background-color: var(--azul-escuro);
      color: white;
      padding: 20px;
      text-align: center;
      margin-bottom: 20px;
      border-radius: 8px;
    }

    .add-task {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }

    .add-task input {
      width: 300px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px 0 0 4px;
      font-size: 16px;
    }

    .add-task button {
      padding: 10px 20px;
      background-color: var(--amarelo);
      border: none;
      cursor: pointer;
      font-weight: bold;
      border-radius: 0 4px 4px 0;
    }

    .board {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .column {
      background-color: white;
      border-radius: 8px;
      padding: 10px;
      width: 300px;
      min-height: 400px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .column h2 {
      text-align: center;
      color: var(--azul-escuro);
      margin-bottom: 10px;
    }

    .task {
      background-color: var(--cinza-claro);
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 4px;
      position: relative;
      cursor: grab;
    }

    .task.done {
      text-decoration: line-through;
      opacity: 0.6;
    }

    .task-buttons {
      display: flex;
      justify-content: flex-end;
      gap: 5px;
      margin-top: 5px;
    }

    .task-buttons button {
      font-size: 12px;
      padding: 4px 6px;
      border-radius: 4px;
      border: none;
      cursor: pointer;
    }

    .btn-move {
      background-color: var(--amarelo);
    }

    .btn-done {
      background-color: #28a745;
      color: white;
    }

    .btn-delete {
      background-color: #dc3545;
      color: white;
    }

    .btn-edit {
      background-color: #007bff;
      color: white;
    }

    .drag-over {
      border: 2px dashed var(--azul-escuro);
    }
    .accordion-section {
  margin: 20px auto;
  width: 80%;
  max-width: 600px;
}

    .accordion {
      background-color: var(--azul-escuro);
      color: white;
      cursor: pointer;
      padding: 12px;
      width: 100%;
      text-align: left;
      border: none;
      outline: none;
      font-size: 16px;
      border-radius: 4px;
      margin-bottom: 5px;
    }

    .panel {
      background-color: white;
      padding: 10px;
      display: none;
      border: 1px solid #ccc;
      border-radius: 0 0 4px 4px;
    }

    .panel input {
      width: 70%;
      padding: 6px;
      margin-right: 10px;
    }

    .panel button {
      padding: 6px 12px;
      background-color: var(--amarelo);
      border: none;
      cursor: pointer;
      font-weight: bold;
      border-radius: 4px;
    }

    .panel ul {
      list-style: disc;
      margin-top: 10px;
      padding-left: 20px;
    }
  
  </style>
</head>
<body>
  <header>
    <h1>Painel de Tarefas</h1>
  </header>

  <div class="add-task">
    <input type="text" id="taskInput" placeholder="Digite uma nova tarefa...">
    <button onclick="addTask()">Adicionar</button>
  </div>

  <div class="board">
    <div class="column" id="todo" ondragover="allowDrop(event)" ondrop="drop(event)">
      <h2>A Fazer</h2>
    </div>

    <div class="column" id="inProgress" ondragover="allowDrop(event)" ondrop="drop(event)">
      <h2>Em Andamento</h2>
    </div>

    <div class="column" id="done" ondragover="allowDrop(event)" ondrop="drop(event)">
      <h2>Concluído</h2>
    </div>
  </div>

  <!-- Caixa de Lembretes -->
<div class="accordion-section">
    <button class="accordion" onclick="toggleAccordion(this)">📌 Lembretes</button>
    <div class="panel">
      <input type="text" id="reminderInput" placeholder="Novo lembrete...">
      <button onclick="addReminder()">Adicionar</button>
      <ul id="reminderList"></ul>
    </div>
  </div>
  
  <!-- Caixa de Comentários -->
  <div class="accordion-section">
    <button class="accordion" onclick="toggleAccordion(this)">💬 Comentários</button>
    <div class="panel">
      <input type="text" id="commentInput" placeholder="Novo comentário...">
      <button onclick="addComment()">Adicionar</button>
      <ul id="commentList"></ul>
    </div>
  </div>
  

  <script>
    let draggedTask = null;
  
    function saveTasks() {
      const columns = ['todo', 'inProgress', 'done'];
      const data = {};
      columns.forEach(id => {
        const col = document.getElementById(id);
        const tasks = Array.from(col.querySelectorAll('.task')).map(task => ({
          text: task.querySelector('span').textContent,
          done: task.classList.contains('done')
        }));
        data[id] = tasks;
      });
      localStorage.setItem('tasks', JSON.stringify(data));
    }
  
    function loadTasks() {
      const data = JSON.parse(localStorage.getItem('tasks'));
      if (!data) return;
      for (let col in data) {
        data[col].forEach(t => {
          const task = createTaskElement(t.text, t.done);
          document.getElementById(col).appendChild(task);
        });
      }
    }
  
    function createTaskElement(text, done = false) {
      const task = document.createElement("div");
      task.className = "task";
      task.draggable = true;
      task.ondragstart = () => draggedTask = task;
  
      const content = document.createElement("span");
      content.textContent = text;
  
      const buttons = document.createElement("div");
      buttons.className = "task-buttons";
  
      const btnEdit = document.createElement("button");
      btnEdit.textContent = "✏️";
      btnEdit.className = "btn-edit";
      btnEdit.onclick = () => {
        const newText = prompt("Editar tarefa:", content.textContent);
        if (newText) {
          content.textContent = newText;
          saveTasks();
        }
      };
  
      const btnDone = document.createElement("button");
      btnDone.textContent = "✅";
      btnDone.className = "btn-done";
      btnDone.onclick = () => {
        task.classList.toggle("done");
        document.getElementById("done").appendChild(task);
        saveTasks();
      };
  
      const btnDelete = document.createElement("button");
      btnDelete.textContent = "🗑️";
      btnDelete.className = "btn-delete";
      btnDelete.onclick = () => {
        task.remove();
        saveTasks();
      };
  
      buttons.appendChild(btnEdit);
      buttons.appendChild(btnDone);
      buttons.appendChild(btnDelete);
  
      task.appendChild(content);
      task.appendChild(buttons);
  
      if (done) {
        task.classList.add("done");
      }
  
      return task;
    }
  
    function addTask() {
      const input = document.getElementById("taskInput");
      const text = input.value.trim();
      if (text === "") return;
  
      const task = createTaskElement(text);
      document.getElementById("todo").appendChild(task);
      input.value = "";
  
      saveTasks();
    }
  
    function allowDrop(event) {
      event.preventDefault();
    }
  
    function drop(event) {
      event.preventDefault();
      if (draggedTask) {
        event.currentTarget.appendChild(draggedTask);
        draggedTask = null;
        saveTasks();
      }
    }
  
    // === Lembretes ===
    function addReminder() {
      const input = document.getElementById("reminderInput");
      const text = input.value.trim();
      if (text === "") return;
  
      const list = document.getElementById("reminderList");
      const li = document.createElement("li");
      li.textContent = text;
      list.appendChild(li);
  
      saveReminders();
      input.value = "";
    }
  
    function saveReminders() {
      const items = Array.from(document.querySelectorAll("#reminderList li")).map(li => li.textContent);
      localStorage.setItem("reminders", JSON.stringify(items));
    }
  
    function loadReminders() {
      const data = JSON.parse(localStorage.getItem("reminders")) || [];
      const list = document.getElementById("reminderList");
      data.forEach(text => {
        const li = document.createElement("li");
        li.textContent = text;
        list.appendChild(li);
      });
    }
  
    // === Comentários ===
    function addComment() {
      const input = document.getElementById("commentInput");
      const text = input.value.trim();
      if (text === "") return;
  
      const list = document.getElementById("commentList");
      const li = document.createElement("li");
      li.textContent = text;
      list.appendChild(li);
  
      saveComments();
      input.value = "";
    }
  
    function saveComments() {
      const items = Array.from(document.querySelectorAll("#commentList li")).map(li => li.textContent);
      localStorage.setItem("comments", JSON.stringify(items));
    }
  
    function loadComments() {
      const data = JSON.parse(localStorage.getItem("comments")) || [];
      const list = document.getElementById("commentList");
      data.forEach(text => {
        const li = document.createElement("li");
        li.textContent = text;
        list.appendChild(li);
      });
    }
  
    // === Accordion (caixa suspensa) ===
    function toggleAccordion(button) {
      const panel = button.nextElementSibling;
      panel.style.display = panel.style.display === "block" ? "none" : "block";
    }
  
    // === Carregar tudo ao iniciar ===
    loadTasks();
    loadReminders();
    loadComments();
  </script>
  
</body>
</html>
